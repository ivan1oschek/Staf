<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ - Staf v1</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- –§–æ–Ω–æ–≤—ã–µ —á–∞—Å—Ç–∏—Ü—ã -->
    <div id="particles-js"></div>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav>
        <div class="nav-container">
            <a href="index.html" class="logo">
                <i class="ri-brain-line"></i>
                <span>Staf v1</span>
            </a>
            <ul class="nav-links">
                <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="search.html">–ü–æ–∏—Å–∫</a></li>
                <li><a href="categories.html">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</a></li>
                <li><a href="favorites.html">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</a></li>
                <li><a href="stats.html">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a></li>
                <li><a href="about.html">–û –Ω–∞—Å</a></li>
                <li><a href="settings.html">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</a></li>
            </ul>
            <div class="burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
    <header>
        <h1>
            <i class="ri-bar-chart-line"></i> –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
        </h1>
        <p style="font-size: 1.2em; margin-top: 15px;">–í–∞—à–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ</p>
    </header>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="container">
        <!-- –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <div class="stats-container">
            <div class="stat-item fade-in">
                <i class="ri-eye-line" style="font-size: 50px; color: var(--secondary-green); margin-bottom: 15px;"></i>
                <div class="stat-number" id="visit-counter">0</div>
                <div class="stat-label">–ü–æ—Å–µ—â–µ–Ω–∏–π</div>
            </div>

            <div class="stat-item fade-in">
                <i class="ri-search-line" style="font-size: 50px; color: var(--secondary-green); margin-bottom: 15px;"></i>
                <div class="stat-number" id="search-counter">0</div>
                <div class="stat-label">–ó–∞–ø—Ä–æ—Å–æ–≤</div>
            </div>

            <div class="stat-item fade-in">
                <i class="ri-folder-line" style="font-size: 50px; color: var(--secondary-green); margin-bottom: 15px;"></i>
                <div class="stat-number">6</div>
                <div class="stat-label">–ö–∞—Ç–µ–≥–æ—Ä–∏–π</div>
            </div>
        </div>

        <!-- –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
        <div class="cards-grid">
            <div class="card fade-in">
                <i class="ri-time-line" style="font-size: 50px;"></i>
                <h3>–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</h3>
                <p id="last-activity" style="font-size: 1.3em; margin-top: 15px; color: var(--secondary-green);">-</p>
            </div>

            <div class="card fade-in">
                <i class="ri-trophy-line" style="font-size: 50px;"></i>
                <h3>–°—Ç–∞—Ç—É—Å</h3>
                <p id="user-status" style="font-size: 1.3em; margin-top: 15px; color: var(--secondary-green);">-</p>
            </div>

            <div class="card fade-in">
                <i class="ri-calendar-line" style="font-size: 50px;"></i>
                <h3>–ü–µ—Ä–≤–æ–µ –ø–æ—Å–µ—â–µ–Ω–∏–µ</h3>
                <p id="first-visit" style="font-size: 1.3em; margin-top: 15px; color: var(--secondary-green);">-</p>
            </div>
        </div>

        <!-- –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∏—Å–∫–∞ -->
        <section class="card fade-in">
            <h2 style="margin-bottom: 25px;">
                <i class="ri-history-line"></i> –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø—Ä–æ—Å—ã
            </h2>
            <div id="recent-searches" style="display: flex; flex-direction: column; gap: 15px;">
                <!-- –ó–∞–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –∑–¥–µ—Å—å -->
            </div>
        </section>

        <!-- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è -->
        <section class="card fade-in">
            <h2 style="text-align: center; margin-bottom: 30px;">
                <i class="ri-medal-line"></i> –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
            </h2>
            <div class="cards-grid" id="achievements">
                <!-- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –∑–¥–µ—Å—å -->
            </div>
        </section>

        <!-- –°–±—Ä–æ—Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
        <section class="card fade-in" style="text-align: center;">
            <i class="ri-delete-bin-line" style="font-size: 50px; color: #ff6b6b;"></i>
            <h3>–°–±—Ä–æ—Å–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</h3>
            <p style="margin: 20px 0;">–£–¥–∞–ª–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ?</p>
            <button onclick="resetStats()" style="background: linear-gradient(90deg, #ff6b6b, #ff8e8e); box-shadow: 0 0 20px #ff6b6b;">
                <i class="ri-restart-line"></i> –°–±—Ä–æ—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
            </button>
        </section>
    </div>

    <!-- –§—É—Ç–µ—Ä -->
    <footer>
        <p>&copy; 2025 Staf v1 | –°–¥–µ–ª–∞–Ω–æ —Å üíö</p>
    </footer>

    <!-- –°–∫—Ä–∏–ø—Ç—ã -->
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script src="settings.js"></script>
    <script src="favorites.js"></script>
    <script src="script.js"></script>
    <script>
        function loadStats() {
            const stats = getStats();
            const history = getSearchHistory();
            const levelData = getUserLevel();
            const favorites = getFavorites();
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            document.getElementById('visit-counter').textContent = stats.visits;
            document.getElementById('search-counter').textContent = stats.searches;
            
            // –ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
            document.getElementById('last-activity').textContent = new Date().toLocaleString('ru-RU');
            
            // –°—Ç–∞—Ç—É—Å –Ω–∞ –æ—Å–Ω–æ–≤–µ —É—Ä–æ–≤–Ω—è
            let status = '–ù–æ–≤–∏—á–æ–∫';
            if (levelData.level >= 50) status = '–ë–æ–≥ –ë—Ä–µ–π–Ω—Ä–æ—Ç–æ–≤ üëë';
            else if (levelData.level >= 30) status = '–õ–µ–≥–µ–Ω–¥–∞ ‚≠ê';
            else if (levelData.level >= 20) status = '–≠–∫—Å–ø–µ—Ä—Ç üíé';
            else if (levelData.level >= 10) status = '–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª üî•';
            else if (levelData.level >= 5) status = '–û–ø—ã—Ç–Ω—ã–π üí™';
            document.getElementById('user-status').textContent = status;
            
            // –ü–µ—Ä–≤–æ–µ –ø–æ—Å–µ—â–µ–Ω–∏–µ
            const firstVisit = localStorage.getItem('staf_first_visit');
            if (!firstVisit) {
                localStorage.setItem('staf_first_visit', new Date().toISOString());
                document.getElementById('first-visit').textContent = '–°–µ–≥–æ–¥–Ω—è';
            } else {
                document.getElementById('first-visit').textContent = new Date(firstVisit).toLocaleDateString('ru-RU');
            }
            
            // –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø—Ä–æ—Å—ã
            const recentSearches = document.getElementById('recent-searches');
            if (history.length === 0) {
                recentSearches.innerHTML = '<p style="text-align: center; color: var(--light-green); opacity: 0.7;">–ó–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</p>';
            } else {
                recentSearches.innerHTML = history.slice(0, 5).map((query, index) => `
                    <div style="padding: 15px; background: rgba(0, 255, 136, 0.05); border: 1px solid var(--primary-green); border-radius: 10px; display: flex; justify-content: space-between; align-items: center;">
                        <span><i class="ri-search-line" style="margin-right: 10px;"></i>#${index + 1}: ${query}</span>
                    </div>
                `).join('');
            }
            
            // –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
            const achievements = [];
            
            // –ü–æ—Å–µ—â–µ–Ω–∏—è
            if (stats.visits >= 1) achievements.push({ icon: 'ri-user-add-line', title: 'üéØ –ü–µ—Ä–≤—ã–π —à–∞–≥', desc: '–ü–æ—Å–µ—Ç–∏–ª–∏ —Å–∞–π—Ç', color: 'var(--primary-green)' });
            if (stats.visits >= 5) achievements.push({ icon: 'ri-footprint-line', title: 'üë£ –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –≥–æ—Å—Ç—å', desc: '5+ –ø–æ—Å–µ—â–µ–Ω–∏–π', color: 'var(--primary-green)' });
            if (stats.visits >= 10) achievements.push({ icon: 'ri-user-star-line', title: '‚≠ê –ê–∫—Ç–∏–≤–Ω—ã–π', desc: '10+ –ø–æ—Å–µ—â–µ–Ω–∏–π', color: '#ffd700' });
            if (stats.visits >= 25) achievements.push({ icon: 'ri-vip-line', title: 'üíé VIP', desc: '25+ –ø–æ—Å–µ—â–µ–Ω–∏–π', color: '#00aaff' });
            if (stats.visits >= 50) achievements.push({ icon: 'ri-trophy-line', title: 'üèÜ –õ–µ–≥–µ–Ω–¥–∞', desc: '50+ –ø–æ—Å–µ—â–µ–Ω–∏–π', color: 'gold' });
            if (stats.visits >= 100) achievements.push({ icon: 'ri-vip-crown-line', title: 'üëë –ö–æ—Ä–æ–ª—å', desc: '100+ –ø–æ—Å–µ—â–µ–Ω–∏–π', color: '#ff00ff' });
            
            // –ü–æ–∏—Å–∫
            if (stats.searches >= 1) achievements.push({ icon: 'ri-search-line', title: 'üîç –ü–µ—Ä–≤—ã–π –ø–æ–∏—Å–∫', desc: '–í—ã–ø–æ–ª–Ω–∏–ª–∏ –ø–æ–∏—Å–∫', color: 'var(--primary-green)' });
            if (stats.searches >= 10) achievements.push({ icon: 'ri-search-2-line', title: 'üïµÔ∏è –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å', desc: '10+ –ø–æ–∏—Å–∫–æ–≤', color: '#ffd700' });
            if (stats.searches >= 25) achievements.push({ icon: 'ri-compass-line', title: 'üß≠ –°–ª–µ–¥–æ–ø—ã—Ç', desc: '25+ –ø–æ–∏—Å–∫–æ–≤', color: '#00aaff' });
            if (stats.searches >= 50) achievements.push({ icon: 'ri-radar-line', title: 'üì° –ú–∞—Å—Ç–µ—Ä –ø–æ–∏—Å–∫–∞', desc: '50+ –ø–æ–∏—Å–∫–æ–≤', color: 'gold' });
            if (stats.searches >= 100) achievements.push({ icon: 'ri-telescope-line', title: 'üî≠ –í–µ–ª–∏–∫–∏–π –∏—Å–∫–∞—Ç–µ–ª—å', desc: '100+ –ø–æ–∏—Å–∫–æ–≤', color: '#ff00ff' });
            
            // –£—Ä–æ–≤–µ–Ω—å
            if (levelData.level >= 5) achievements.push({ icon: 'ri-medal-line', title: 'ü•â –ú–µ–¥–∞–ª—å', desc: '–£—Ä–æ–≤–µ–Ω—å 5', color: '#cd7f32' });
            if (levelData.level >= 10) achievements.push({ icon: 'ri-medal-2-line', title: 'ü•à –°–µ—Ä–µ–±—Ä–æ', desc: '–£—Ä–æ–≤–µ–Ω—å 10', color: 'silver' });
            if (levelData.level >= 20) achievements.push({ icon: 'ri-award-line', title: 'ü•á –ó–æ–ª–æ—Ç–æ', desc: '–£—Ä–æ–≤–µ–Ω—å 20', color: 'gold' });
            if (levelData.level >= 30) achievements.push({ icon: 'ri-vip-diamond-line', title: 'üíé –ê–ª–º–∞–∑', desc: '–£—Ä–æ–≤–µ–Ω—å 30', color: '#00aaff' });
            if (levelData.level >= 50) achievements.push({ icon: 'ri-fire-line', title: 'üî• –û–≥–Ω–µ–Ω–Ω—ã–π', desc: '–£—Ä–æ–≤–µ–Ω—å 50', color: '#ff3366' });
            
            // –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
            if (favorites.length >= 1) achievements.push({ icon: 'ri-star-line', title: '‚≠ê –ö–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–µ—Ä', desc: '–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ', color: 'var(--primary-green)' });
            if (favorites.length >= 5) achievements.push({ icon: 'ri-bookmark-line', title: 'üìö –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä—å', desc: '5+ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º', color: '#ffd700' });
            if (favorites.length >= 10) achievements.push({ icon: 'ri-folder-star-line', title: 'üí´ –ê—Ä—Ö–∏–≤–∞—Ä–∏—É—Å', desc: '10+ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º', color: 'gold' });
            if (favorites.length >= 25) achievements.push({ icon: 'ri-database-line', title: 'üóÑÔ∏è –ú–µ–≥–∞ –±–∞–∑–∞', desc: '25+ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º', color: '#ff00ff' });
            
            // –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ
            if (levelData.totalXp >= 1000) achievements.push({ icon: 'ri-flashlight-line', title: '‚ö° XP Master', desc: '1000+ –æ–ø—ã—Ç–∞', color: '#ffed4e' });
            if (levelData.totalXp >= 5000) achievements.push({ icon: 'ri-thunderstorms-line', title: '‚ö° XP Legend', desc: '5000+ –æ–ø—ã—Ç–∞', color: '#ff00ff' });
            
            const achievementsEl = document.getElementById('achievements');
            if (achievements.length === 0) {
                achievementsEl.innerHTML = '<p style="text-align: center; color: var(--light-green); opacity: 0.7; grid-column: 1/-1;">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–æ—è–≤—è—Ç—Å—è –ø–æ –º–µ—Ä–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</p>';
            } else {
                achievementsEl.innerHTML = achievements.map(ach => `
                    <div class="card" style="text-align: center; border-color: ${ach.color};">
                        <i class="${ach.icon}" style="font-size: 50px; color: ${ach.color};"></i>
                        <h3 style="margin: 15px 0 10px; color: ${ach.color};">${ach.title}</h3>
                        <p>${ach.desc}</p>
                    </div>
                `).join('');
            }
        }

        function resetStats() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –≤—Å—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å!')) {
                localStorage.removeItem('staf_visits');
                localStorage.removeItem('staf_search_history');
                localStorage.removeItem('staf_first_visit');
                alert('‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Å–ø–µ—à–Ω–æ —Å–±—Ä–æ—à–µ–Ω–∞!');
                location.reload();
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('DOMContentLoaded', loadStats);
    </script>
</body>
</html>
