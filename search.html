<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîç –ü–æ–∏—Å–∫ - Staf v1</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- –§–æ–Ω–æ–≤—ã–µ —á–∞—Å—Ç–∏—Ü—ã -->
    <div id="particles-js"></div>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav>
        <div class="nav-container">
            <a href="index.html" class="logo">
                <i class="ri-brain-line"></i>
                <span>Staf v1</span>
            </a>
            <ul class="nav-links">
                <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="search.html">–ü–æ–∏—Å–∫</a></li>
                <li><a href="categories.html">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</a></li>
                <li><a href="favorites.html">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</a></li>
                <li><a href="stats.html">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a></li>
                <li><a href="about.html">–û –Ω–∞—Å</a></li>
                <li><a href="settings.html">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</a></li>
            </ul>
            <div class="burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
    <header>
        <h1>
            <i class="ri-search-2-line"></i> –ü–æ–∏—Å–∫ –±—Ä–µ–π–Ω—Ä–æ—Ç–æ–≤
        </h1>
        <p style="font-size: 1.2em; margin-top: 15px;">–ù–∞–π–¥–∏ —Ç–æ, —á—Ç–æ –∏—â–µ—à—å, –∑–∞ —Å–µ–∫—É–Ω–¥—ã!</p>
    </header>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="container">
        <!-- –§–æ—Ä–º–∞ –ø–æ–∏—Å–∫–∞ -->
        <section class="card fade-in" style="text-align: center;">
            <i class="ri-search-eye-line" style="font-size: 60px; margin-bottom: 20px;"></i>
            <h2>–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å</h2>
            <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; margin: 30px 0;">
                <input type="search" id="query" placeholder="–ß—Ç–æ –≤—ã –∏—â–µ—Ç–µ?..." style="max-width: 500px;">
                <button onclick="performSearch()" class="btn">
                    <i class="ri-search-2-line"></i> –ò—Å–∫–∞—Ç—å
                </button>
            </div>

            <!-- –ó–∞–≥—Ä—É–∑–∫–∞ -->
            <div id="loading" style="display:none;">
                <div class="loader"></div>
                <p id="progress" style="font-size: 1.5em; margin-top: 20px; color: var(--secondary-green);">0%</p>
                <p style="margin-top: 10px; color: var(--light-green);">–ü–æ–∏—Å–∫ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...</p>
            </div>

            <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç -->
            <div id="result" style="display:none;">
                <div style="padding: 30px; border: 2px solid var(--secondary-green); border-radius: 15px; background: rgba(0, 255, 136, 0.05);">
                    <i class="ri-checkbox-circle-line" style="font-size: 80px; color: var(--secondary-green); margin-bottom: 20px;"></i>
                    <h3 style="font-size: 2em; margin-bottom: 15px;">‚úÖ –ë—Ä–µ–π–Ω—Ä–æ—Ç –Ω–∞–π–¥–µ–Ω!</h3>
                    <p style="margin-bottom: 30px;">–ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞</p>
                    <button onclick="goToServer()" class="btn" style="font-size: 1.2em; padding: 18px 40px;">
                        <i class="ri-external-link-line"></i> –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
                    </button>
                </div>
            </div>
        </section>

        <!-- –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∏—Å–∫–∞ -->
        <section class="card fade-in" id="history-section">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; flex-wrap: wrap; gap: 15px;">
                <h2 style="margin: 0;">
                    <i class="ri-history-line"></i> –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∏—Å–∫–∞
                </h2>
                <button onclick="clearHistory()" style="padding: 10px 20px; font-size: 0.9em;">
                    <i class="ri-delete-bin-line"></i> –û—á–∏—Å—Ç–∏—Ç—å
                </button>
            </div>
            <div id="history-list" style="display: flex; flex-direction: column; gap: 15px;">
                <!-- –ò—Å—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∑–¥–µ—Å—å -->
            </div>
        </section>

        <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
        <section class="card fade-in" style="text-align: center;">
            <h2 style="margin-bottom: 25px;">
                <i class="ri-magic-line"></i> –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
            </h2>
            <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                <button onclick="feelingLucky()" class="btn" style="background: linear-gradient(90deg, #ffd700, #ffed4e); color: #000;">
                    <i class="ri-star-smile-line"></i> –ú–Ω–µ –ø–æ–≤–µ–∑–µ—Ç!
                </button>
                <button onclick="showTrending()" class="btn" style="background: linear-gradient(90deg, #ff3366, #ff6b6b); color: #fff;">
                    <i class="ri-fire-line"></i> –ü–æ–ø—É–ª—è—Ä–Ω–æ–µ
                </button>
                <button onclick="showRecommendations()" class="btn" style="background: linear-gradient(90deg, #aa00ff, #cc00ff); color: #fff;">
                    <i class="ri-lightbulb-line"></i> –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
                </button>
            </div>
        </section>
        
        <!-- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ -->
        <section class="card fade-in" id="recommendations-section" style="display: none;">
            <h2 style="text-align: center; margin-bottom: 25px;">
                <i class="ri-sparkling-line"></i> –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –≤–∞—Å
            </h2>
            <div id="recommendations-list" class="cards-grid"></div>
        </section>
        
        <!-- Trending -->
        <section class="card fade-in" id="trending-section" style="display: none;">
            <h2 style="text-align: center; margin-bottom: 25px;">
                <i class="ri-fire-line"></i> –ü–æ–ø—É–ª—è—Ä–Ω–æ–µ —Å–µ–π—á–∞—Å
            </h2>
            <div id="trending-list"></div>
        </section>

        <!-- –ü–æ–¥—Å–∫–∞–∑–∫–∏ -->
        <section class="card fade-in">
            <h2 style="text-align: center; margin-bottom: 25px;">
                <i class="ri-lightbulb-line"></i> –°–æ–≤–µ—Ç—ã –ø–æ –ø–æ–∏—Å–∫—É
            </h2>
            <div class="cards-grid">
                <div class="card">
                    <i class="ri-keyboard-line"></i>
                    <h3>–ë—É–¥—å—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã</h3>
                    <p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ—á–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –ª—É—á—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</p>
                </div>
                <div class="card">
                    <i class="ri-filter-line"></i>
                    <h3>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</h3>
                    <p>–§–∏–ª—å—Ç—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞</p>
                </div>
                <div class="card">
                    <i class="ri-time-line"></i>
                    <h3>–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∏—Å—Ç–æ—Ä–∏—é</h3>
                    <p>–í–∞—à–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞</p>
                </div>
            </div>
        </section>
    </div>

    <!-- –§—É—Ç–µ—Ä -->
    <footer>
        <p>&copy; 2025 Staf v1 | –°–¥–µ–ª–∞–Ω–æ —Å üíö</p>
    </footer>

    <!-- –°–∫—Ä–∏–ø—Ç—ã -->
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script src="settings.js"></script>
    <script src="favorites.js"></script>
    <script src="script.js"></script>
    <script>
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞ –≤ URL
        window.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const queryParam = urlParams.get('q');
            if (queryParam) {
                document.getElementById('query').value = queryParam;
                performSearch();
            }
        });
        
        function performSearch() {
            const query = document.getElementById('query').value;
            startSearch(query);
            updateHistory();
        }

        function updateHistory() {
            const history = getSearchHistory();
            const historyList = document.getElementById('history-list');
            const historySection = document.getElementById('history-section');
            
            if (history.length === 0) {
                historyList.innerHTML = '<p style="text-align: center; color: var(--light-green); opacity: 0.7;">–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞</p>';
                return;
            }
            
            historySection.style.display = 'block';
            historyList.innerHTML = history.map(query => `
                <div style="padding: 15px; background: rgba(0, 255, 136, 0.05); border: 1px solid var(--primary-green); border-radius: 10px; display: flex; justify-content: space-between; align-items: center; cursor: pointer; transition: all 0.3s;" 
                     onmouseover="this.style.transform='translateX(5px)'; this.style.boxShadow='0 0 20px var(--secondary-green)';" 
                     onmouseout="this.style.transform='translateX(0)'; this.style.boxShadow='none';">
                    <span onclick="document.getElementById('query').value='${query}';" style="flex: 1;">
                        <i class="ri-search-line" style="margin-right: 10px;"></i>${query}
                    </span>
                    <i class="ri-arrow-right-line" onclick="document.getElementById('query').value='${query}'; performSearch();" style="cursor: pointer; font-size: 1.2em;"></i>
                </div>
            `).join('');
        }

        function clearHistory() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø–æ–∏—Å–∫–∞?')) {
                clearSearchHistory();
                updateHistory();
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('DOMContentLoaded', () => {
            updateHistory();
        });

        // Enter –¥–ª—è –ø–æ–∏—Å–∫–∞
        document.getElementById('query')?.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                performSearch();
            }
        });
        
        // –ú–Ω–µ –ø–æ–≤–µ–∑–µ—Ç - —Å–ª—É—á–∞–π–Ω—ã–π –±—Ä–µ–π–Ω—Ä–æ—Ç
        function feelingLucky() {
            const categories = ['10M+', '20M+', '30M+', '40M+', '50M+', '100M+'];
            const randomCategory = categories[Math.floor(Math.random() * categories.length)];
            const randomWords = ['—Ç–æ–ø', '–ª—É—á—à–∏–π', '–Ω–æ–≤—ã–π', '–º–æ—â–Ω—ã–π', '–∫—Ä—É—Ç–æ–π', '—ç–ø–∏—á–Ω—ã–π', '–ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π'];
            const randomWord = randomWords[Math.floor(Math.random() * randomWords.length)];
            const query = `${randomWord} ${randomCategory}`;
            
            document.getElementById('query').value = query;
            performSearch();
            
            if (typeof addXP === 'function') {
                addXP(10, '–ú–Ω–µ –ø–æ–≤–µ–∑–µ—Ç!');
            }
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å trending
        function showTrending() {
            const trending = getTrending();
            const section = document.getElementById('trending-section');
            const list = document.getElementById('trending-list');
            
            if (trending.length === 0) {
                list.innerHTML = '<p style="text-align: center; color: var(--light-green); opacity: 0.7;">–ü–æ–∫–∞ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö</p>';
            } else {
                list.innerHTML = trending.slice(0, 10).map((item, index) => `
                    <div style="padding: 15px; background: rgba(255, 51, 102, 0.1); border: 1px solid #ff3366; border-radius: 10px; margin: 10px 0; display: flex; justify-content: space-between; align-items: center; cursor: pointer; transition: all 0.3s;"
                         onclick="document.getElementById('query').value='${item.query}'; performSearch();"
                         onmouseover="this.style.transform='translateX(5px)'; this.style.boxShadow='0 0 20px #ff3366';"
                         onmouseout="this.style.transform='translateX(0)'; this.style.boxShadow='none';">
                        <span style="font-size: 1.5em; font-weight: bold; color: #ff3366; min-width: 40px;">#${index + 1}</span>
                        <span style="flex: 1;"><i class="ri-fire-line"></i> ${item.query}</span>
                        <span style="color: #ff6b6b;">${item.count} –ø–æ–∏—Å–∫–æ–≤</span>
                    </div>
                `).join('');
            }
            
            section.style.display = 'block';
            section.scrollIntoView({ behavior: 'smooth' });
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
        function showRecommendations() {
            const history = getSearchHistory();
            const section = document.getElementById('recommendations-section');
            const list = document.getElementById('recommendations-list');
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏–∏
            const recommendations = [];
            const categories = ['10M+', '20M+', '30M+', '40M+', '50M+', '100M+'];
            const themes = ['–∏–≥—Ä–æ–≤–æ–π', '–º–µ–º–Ω—ã–π', '—Ç—Ä–µ–Ω–¥–æ–≤—ã–π', '—ç–ø–∏—á–Ω—ã–π', '–Ω–æ–≤—ã–π', '—Ç–æ–ø–æ–≤—ã–π'];
            
            // –ï—Å–ª–∏ –µ—Å—Ç—å –∏—Å—Ç–æ—Ä–∏—è, –¥–µ–ª–∞–µ–º —É–º–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
            if (history.length > 0) {
                categories.forEach(cat => {
                    if (!history.includes(cat)) {
                        const theme = themes[Math.floor(Math.random() * themes.length)];
                        recommendations.push({
                            query: `${theme} ${cat}`,
                            reason: '–ù–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–∏—Ö –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤',
                            icon: 'ri-star-line'
                        });
                    }
                });
            } else {
                // –ë–∞–∑–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤
                recommendations.push(
                    { query: '—Ç–æ–ø 10M+', reason: '–ù–∞—á–Ω–∏—Ç–µ —Å –±–∞–∑–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è', icon: 'ri-flashlight-line' },
                    { query: '–º–µ–º–Ω—ã–π 20M+', reason: '–ü–æ–ø—É–ª—è—Ä–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è', icon: 'ri-emotion-laugh-line' },
                    { query: '—ç–ø–∏—á–Ω—ã–π 30M+', reason: '–î–ª—è –æ–ø—ã—Ç–Ω—ã—Ö', icon: 'ri-rocket-line' },
                    { query: '–ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π 50M+', reason: '–¢–æ–ª—å–∫–æ –¥–ª—è –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö', icon: 'ri-fire-line' }
                );
            }
            
            list.innerHTML = recommendations.slice(0, 6).map(rec => `
                <div class="card recommendation-card" onclick="document.getElementById('query').value='${rec.query}'; performSearch();">
                    <i class="${rec.icon}" style="font-size: 50px; color: var(--secondary-green);"></i>
                    <h3>${rec.query}</h3>
                    <p>${rec.reason}</p>
                    <button class="btn" style="margin-top: 15px; padding: 10px 20px; font-size: 0.9em;">
                        <i class="ri-search-line"></i> –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å
                    </button>
                </div>
            `).join('');
            
            section.style.display = 'block';
            section.scrollIntoView({ behavior: 'smooth' });
            
            if (typeof addXP === 'function') {
                addXP(3, '–ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π');
            }
        }
        
        window.feelingLucky = feelingLucky;
        window.showTrending = showTrending;
        window.showRecommendations = showRecommendations;
        window.getTrending = getTrending;
    </script>
</body>
</html>
